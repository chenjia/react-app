(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n(10),o=n(12),i=n(11),c=n(13),s=n(0),u=n.n(s),l=window.utils,p=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={forward:!1,model:{username:"admin",password:"admin"},base64Img:""},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentWillMount",value:function(){}},{key:"getCaptcha",value:function(){var e=this;l.http.post("/manage/user/captcha").then(function(t){e.setState({base64Img:"data:image/png;base64, "+t.data.body.data.base64Img,model:Object.assign({},e.state.model,{captchaToken:t.data.body.data.captchaToken})})})}},{key:"login",value:function(){var e=this;l.http.post("/manage/user/login",this.model).then(function(t){t.data.body.data?e.props.history.push("/page/home"):e.getCaptcha()},function(t){alert("error"),e.props.history.push("/page/home")})}},{key:"toggleForward",value:function(){this.setState({forward:!this.state.forward})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{style:{background:"red",height:"300px"}},u.a.createElement("div",{onClick:function(){e.props.history.push("./home")}},"to home 1234567890"))}}]),t}(u.a.Component);t.default=p},108:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n(10),o=n(12),i=n(11),c=n(13),s=n(0),u=n.n(s),l=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={forward:!0,username:"admin",password:"admin"},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"register",value:function(){this.props.history.push("/register")}},{key:"forgetPassword",value:function(){this.props.history.push("/forgetpassword")}},{key:"login",value:function(){}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{style:{background:"green",height:"300px"}},u.a.createElement("div",{onClick:function(){e.props.history.push("./login")}},"to login 1234567890"))}}]),t}(u.a.Component);t.default=l},114:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n(10),o=n(12),i=n(11),c=n(13),s=(n(56),n(0)),u=n.n(s),l=n(18),p=n.n(l),d=(n(61),n(19)),h=n(26),f=n(22),m=n(66),g=function(e,t){var n=m.enc.Utf8.parse(t);return m.AES.encrypt(e,n,{mode:m.mode.ECB,padding:m.pad.Pkcs7}).ciphertext.toString(m.enc.Base64).replace(/[\r\n]/g,"")},v=function(e,t){var n=m.enc.Utf8.parse(t);return m.AES.decrypt({ciphertext:m.enc.Base64.parse(e.replace(/[\r\n]/g,""))},n,{mode:m.mode.ECB,padding:m.pad.Pkcs7}).toString(m.enc.Utf8)},w=function(e){e=m.enc.Base64.parse(e).toString(m.enc.Utf8).split("").reverse().join("");for(var t="",n=0,r=0;n<e.length;n++)t+=e[n],n+=r++%2+1;return t},y={set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400;"string"!=typeof t&&(t=JSON.stringify(t)),t=JSON.stringify({value:t,expired:(new Date).getTime()+1e3*n}),localStorage.setItem(e,g(t,w(window.Config.key)))},get:function(e){var t=localStorage.getItem(e);if(t)if((t=JSON.parse(v(t,w(window.Config.key)))).expired>(new Date).getTime()){if("{"===(t=t.value).substr(0,1)||"["===t.substr(0,1))try{t=JSON.parse(t)}catch(n){console.log("error in get cache key:"+e+", value:"+t)}}else localStorage.removeItem(e),t=null;return t},removeItem:function(e){localStorage.removeItem(e)},clear:function(){localStorage.clear()}},b=n(32),O=n.n(b);window.axios=O.a;var k=O.a.create({method:"post",timeout:6e4,withCredentials:!0,headers:{post:{"Content-Type":"application/x-www-form-urlencoded"}},transformRequest:[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t}]});k.interceptors.request.use(function(e){var t=y.get("user"),n={head:{url:e.url,debug:!0,userId:t?t.userId:null,token:y.get("token"),timestamp:(new Date).getTime()},body:{data:e.data}};return console.log("\n\u3010request:"+e.url+"\u3011",n,"\n\n"),e.url=window.Config.server+e.url,e.data={request:g(JSON.stringify(n),w(window.Config.key))},e},function(e){return console.log(e),Promise.reject(e)}),k.interceptors.response.use(function(e){var t=v(e.data.response,w(window.Config.key));e.data=JSON.parse(t),console.log("\n\u3010response:"+e.config.url+"\u3011",e,"\n\n"),e.data.head.status;var n=e.data.head.token;return y.set("token",n||y.get("token")),e},function(e){return console.log(e),Promise.reject(e)});var j,E={cache:y,http:k},C={user:E.cache.get("user")||{}},S="APP/LOGIN",N="APP/LOGOUT",I=(j={},Object(f.a)(j,S,function(){return{type:S}}),Object(f.a)(j,N,function(){return{type:N}}),Object(d.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case S:return E.cache.set("user",t.app.user),{user:t.app.user};case N:return E.cache.set("user",{}),{user:{}};default:return e}}})),x=n(49),P=n(116),U=n(115),T=n(50),J=n.n(T),R=function(){return u.a.createElement("div",null,"loading")},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R;return J()({loader:e,loading:t})},B=(n(107),n(108),n(24).HashRouter),A=n(24).Route,F=n(24).Redirect,M=n(24).Switch,W=function(e){return Object(x.a)({},e)},z=function(e){return{header:function(t){e({type:"UI/HERADER",ui:{header:t}})},login:function(t){e({type:"APP/LOGIN",app:{user:t}})}}},q=function(e){return t=function(e){return D(function(){return e})}(e),Object(h.b)(W,z)(t);var t},G=q(Promise.resolve().then(n.bind(null,107))),H=q(Promise.resolve().then(n.bind(null,108))),Y=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={},n.mixin={screenWidth:window.screen.width,screenHeight:window.screen.height,back:function(){e.history.goBack()},go:function(t,n){e.history.push({pathname:t,state:n})}},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=[];return u.a.createElement(B,null,u.a.createElement(A,{render:function(t){var n=t.location,r=(t.history,!0);return 0===e.length&&e.push(n.pathname),r=!(e.length>1&&n.pathname===e[e.length-2]),u.a.createElement(P.a,{className:"transition-wrapper",childFactory:function(e){return u.a.cloneElement(e,{classNames:"absolute "+(r?"forward":"back")})}},u.a.createElement(U.a,{key:n.pathname,timeout:500,onEntered:function(){setTimeout(function(){r?e.push(n.pathname):e.pop()})}},u.a.createElement(M,{location:n},u.a.createElement(A,{path:"/",exact:!0},u.a.createElement(F,{from:"/",to:"/login"})),u.a.createElement(A,{path:"/home",component:H}),u.a.createElement(A,{path:"/login",component:G}))))}}))}}]),t}(u.a.Component),Z=Object(d.c)(I),L=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return u.a.createElement(h.a,{store:Z},u.a.createElement(Y,this.props))}}]),t}(u.a.Component);p.a.render(u.a.createElement(L,null),document.getElementById("root"))},55:function(e,t,n){e.exports=n(114)},56:function(e,t){window.Config={appVersion:"1.0.23",nativeVersion:"1.0",server:"http"+(0===window.location.href.indexOf("https")?"s":"")+"://47.100.119.102/api",appDownloadUrl:"http://47.100.119.102/vue-app",chcpUrl:"http://47.100.119.102/vue-app/chcp.json",key:"dzg5czJyejd5NjFkN3g3MjNjc2QwamN3OXUxODFjb280YWE4djhvYmV1NW9lemUxMzFjdGFiYTZ0OXo5dXhkMWNrYzRvZHZ3NjcyMzZkdWU=",random:(new Date).getTime(),preload:1e3}},61:function(e,t,n){}},[[55,1,2]]]);
//# sourceMappingURL=main.258eba4b.chunk.js.map