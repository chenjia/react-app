{"version":3,"sources":["config.js","utils/security.js","utils/cache.js","utils/http.js","utils/index.js","redux/app.js","redux/index.js","components/ui/AnimatedRouter.js","routers/login.js","routers/home.js","routers/list.js","routers/index.js","index.js"],"names":["window","Config","appVersion","nativeVersion","server","location","href","indexOf","appDownloadUrl","chcpUrl","key","random","Date","getTime","preload","CryptoJS","require","encryptByAES","message","keyHex","enc","Utf8","parse","AES","encrypt","mode","ECB","padding","pad","Pkcs7","ciphertext","toString","Base64","replace","decryptByAES","decrypt","decryptKey","encryptedKey","split","reverse","join","str","i","j","length","cache","set","value","seconds","arguments","undefined","JSON","stringify","expired","localStorage","setItem","get","getItem","substr","e","console","log","removeItem","clear","axios","instance","create","method","timeout","withCredentials","headers","post","Content-Type","transformRequest","data","ret","it","encodeURIComponent","interceptors","request","use","config","user","head","url","debug","userId","token","timestamp","body","error","Promise","reject","response","resp","status","utils","http","initialState","types","reducers","_actions","Object","defineProperty","type","combineReducers","app","state","action","historyArray","AnimatedRouter","forward","push","this","props","pathname","back","pop","_react_16_8_6_react_default","a","createElement","TransitionGroup","childFactory","child","React","cloneElement","classNames","CSSTransition","className","style","width","screenWidth","height","screenHeight","children","Component","login","path","component","lazy","all","__webpack_require__","then","bind","home","list","setTimeout","t","routes","concat","toConsumableArray","Router","HashRouter","Route","Redirect","Switch","Routers","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","mixin","document","documentElement","clientWidth","clientHeight","_this2","render","_ref","match","Fragment","nav_bar_default","position","top","zIndex","ui_AnimatedRouter","assign","exact","to","map","route","load","forEach","item","Suspense","fallback","attach","store","createStore","App","es","routers","ReactDOM","src_App","getElementById"],"mappings":"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","file":"static/js/main.0204c0c8.chunk.js","sourcesContent":["window.Config = {\n  appVersion:'1.0.23',\n  nativeVersion:'1.0',\n  server: 'http'+(window.location.href.indexOf('https')===0?'s':'')+'://47.100.119.102/api',\n  appDownloadUrl:'http://47.100.119.102/vue-app',\n  chcpUrl:'http://47.100.119.102/vue-app/chcp.json',\n  key:'dzg5czJyejd5NjFkN3g3MjNjc2QwamN3OXUxODFjb280YWE4djhvYmV1NW9lemUxMzFjdGFiYTZ0OXo5dXhkMWNrYzRvZHZ3NjcyMzZkdWU=',\n  random:new Date().getTime(),\n  preload: 1000\n}","var CryptoJS = require(\"crypto-js\");\n\nconst encryptByAES = (message, key) => {\n    var keyHex = CryptoJS.enc.Utf8.parse(key);\n    var encrypted = CryptoJS.AES.encrypt(message, keyHex, {\n        mode: CryptoJS.mode.ECB,\n        padding: CryptoJS.pad.Pkcs7\n    });\n    return encrypted.ciphertext.toString(CryptoJS.enc.Base64).replace(/[\\r\\n]/g, '');\n}\n\nconst decryptByAES = (ciphertext, key) => {\n    var keyHex = CryptoJS.enc.Utf8.parse(key);\n    var decrypted = CryptoJS.AES.decrypt({\n        ciphertext: CryptoJS.enc.Base64.parse(ciphertext.replace(/[\\r\\n]/g, ''))\n    }, keyHex, {\n        mode: CryptoJS.mode.ECB,\n        padding: CryptoJS.pad.Pkcs7\n    });\n    return decrypted.toString(CryptoJS.enc.Utf8);\n}\n\nconst encryptKey = key => {\n  let array = key.split('')\n  let letters = 'abcdefghijklmnopqrstuvwxyz0123456789'\n  let encryptedKey = ''\n  for(let i=0;i<array.length;i++){\n    encryptedKey += array[i]\n    for(let j=0;j<i%2+1;j++){\n      encryptedKey += letters.substr(parseInt(Math.random()*letters.length),1)\n    }\n  }\n  return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(encryptedKey.split('').reverse().join('')))\n}\n\nconst decryptKey = encryptedKey => {\n  encryptedKey = CryptoJS.enc.Base64.parse(encryptedKey).toString(CryptoJS.enc.Utf8).split('').reverse().join('')\n  let str = ''\n  for(let i=0,j=0;i<encryptedKey.length;i++){\n    str += encryptedKey[i]\n    i += (j++ % 2 + 1)\n  }\n  return str\n}\n\nexport {encryptByAES,decryptByAES,encryptKey,decryptKey}","import {encryptByAES,decryptByAES,decryptKey} from './security'\r\n\r\nconst cache = {\r\n\tset(key, value, seconds = 60*60*24) {\r\n\t\tif(typeof value != 'string') {\r\n\t\t\tvalue = JSON.stringify(value)\r\n\t\t}\r\n\t\tvalue = JSON.stringify({value:value, expired: new Date().getTime()+seconds*1000})\r\n\t\tlocalStorage.setItem(key, encryptByAES(value, decryptKey(window.Config.key)))\r\n\t},\r\n\tget(key) {\r\n\t\tlet value = localStorage.getItem(key)\r\n\r\n\t\tif(value){\r\n\t\t\tvalue = JSON.parse(decryptByAES(value, decryptKey(window.Config.key)))\r\n\r\n\t\t\tif(value.expired > new Date().getTime()){\r\n\t\t\t\tvalue = value.value\r\n\t\t\t\tif (value.substr(0, 1) === '{' || value.substr(0, 1) === '[') {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tvalue = JSON.parse(value);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.log('error in get cache key:' + key + ', value:' + value)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tlocalStorage.removeItem(key)\r\n\t\t\t\tvalue = null\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value\r\n\t},\r\n\tremoveItem(key) {\r\n\t\tlocalStorage.removeItem(key)\r\n\t},\r\n\tclear() {\r\n\t\tlocalStorage.clear()\r\n\t}\r\n}\r\n\r\nexport default cache","import axios from 'axios';\r\nimport cache from './cache';\r\nimport {encryptByAES,decryptByAES,decryptKey} from './security';\r\nwindow.axios = axios;\r\n\r\nlet instance = axios.create({\r\n  method: 'post',\r\n  timeout: 60000,\r\n  withCredentials: true,\r\n  headers: {\r\n    post: {\r\n      'Content-Type': 'application/x-www-form-urlencoded'\r\n    }\r\n  },\r\n  transformRequest: [function(data) {\r\n    let ret = ''\r\n    for (let it in data) {\r\n      ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\r\n    }\r\n    return ret\r\n  }]\r\n})\r\n\r\ninstance.interceptors.request.use(function(config) {\r\n  let user = cache.get('user')\r\n  let data = {\r\n    head: {\r\n      url: config.url,\r\n      debug: true,\r\n      userId: user ? user.userId : null,\r\n      token: cache.get('token'),\r\n      timestamp:new Date().getTime()\r\n    },\r\n    body: {\r\n      data: config.data\r\n    }\r\n  }\r\n  console.log('\\n【request:'+config.url+'】', data, '\\n\\n')\r\n  config.url = window.Config.server + config.url\r\n\r\n  config.data = {\r\n    request: encryptByAES(JSON.stringify(data), decryptKey(window.Config.key))\r\n  }\r\n  return config\r\n}, function(error) {\r\n  console.log(error)\r\n  return Promise.reject(error)\r\n})\r\n\r\ninstance.interceptors.response.use(function(response) {\r\n  let resp = decryptByAES(response.data.response, decryptKey(window.Config.key))\r\n  response.data = JSON.parse(resp)\r\n  console.log('\\n【response:'+response.config.url+'】',response, '\\n\\n')\r\n  if(response.data.head.status !== 200){\r\n    // store.commit('TOGGLE_POPUP', {visible: true, text: response.data.head.msg, duration: 3000})\r\n  }\r\n  let token = response.data.head.token\r\n  cache.set('token', token || cache.get('token'))\r\n  return response\r\n}, function(error) {\r\n  console.log(error)\r\n  return Promise.reject(error)\r\n})\r\n\r\nexport default instance","import cache from './cache'\nimport http from './http'\n\nexport default { cache, http }","import utils from '../utils'\n\nconst initialState = {\n  user: utils.cache.get('user') || {}\n}\n\nexport const types = {\n  LOGIN:'APP/LOGIN',\n  LOGOUT:'APP/LOGOUT'\n}\n\nexport const actions = {\n  [types.LOGIN](){\n    return {type:types.LOGIN}\n  },\n  [types.LOGOUT](){\n    return {type:types.LOGOUT}\n  }\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case types.LOGIN :\n      utils.cache.set('user', action.app.user)\n      return {user:action.app.user}\n    case types.LOGOUT:\n      utils.cache.set('user', {})\n      return {user:{}}\n    default: return state\n  }\n}\n","import { combineReducers } from 'redux';\nimport app from './app'\n\nconst reducers = combineReducers({\n  app: app,\n})\n\nexport default reducers\n","import React from 'react';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\nconst historyArray = [];\nclass AnimatedRouter extends React.Component {\n\n  render() {\n    let forward = true;\n    if(historyArray.length === 0){\n      historyArray.push(this.props.location.pathname);\n    }\n\n    if(historyArray.length === 0){\n      historyArray.push(this.props.location.pathname);\n    }\n    \n    const back = historyArray.length > 1 && this.props.location.pathname === historyArray[historyArray.length-2];\n    forward = !back;\n    if(forward){\n      historyArray.push(this.props.location.pathname);\n    }else{\n      historyArray.pop();\n    }\n    \n    return (\n      <TransitionGroup childFactory={child => React.cloneElement(child, {classNames: forward?'forward':'back'})}>\n        <CSSTransition key={this.props.location.pathname} timeout={300}>\n          <div className={'transition-wrapper'} style={{width: this.props.screenWidth+'px', height: this.props.screenHeight+'px'}}>{this.props.children}</div>\n        </CSSTransition>\n      </TransitionGroup>\n    )\n  }\n}\n\nexport default AnimatedRouter;","import React from 'react';\n\nexport default [{\n  path: '/login',\n  component: React.lazy(()=>import(/* webpackChunkName: \"login\" */ '../pages/login/Login')),\n  preload: [\n    () => import(/* webpackChunkName: \"home\" */ '../pages/home/Home'),\n  ]\n}];","import React from 'react';\n\nexport default [{\n  path: '/home',\n  component: React.lazy(()=>import(/* webpackChunkName: \"home\" */ '../pages/home/Home')),\n},{\n  path: '/setting',\n  component: React.lazy(()=>import(/* webpackChunkName: \"setting\" */ '../pages/home/Setting'))\n}];\n","import React from 'react';\n\nexport default [{\n  path: '/list',\n  component: React.lazy(()=>import(/* webpackChunkName: \"list\" */ '../pages/list/List'))\n}];\n\n","import React from 'react';\nimport { NavBar } from 'antd-mobile';\nimport AnimatedRouter from '../components/ui/AnimatedRouter';\nimport utils from '../utils'\nimport login from './login';\nimport home from './home';\nimport list from './list';\n\nsetTimeout(() => {\n  import(/* webpackChunkName: \"antd-mobile\" */ '../lazyLibs')\n}, window.Config.preload)\n\nwindow.utils = utils;\n\nconst routes = [\n  ...login,\n  ...home,\n  ...list,\n];\n\nconst Router = require('react-router-dom').HashRouter;\nconst Route = require('react-router-dom').Route;\nconst Redirect = require('react-router-dom').Redirect;\nconst Switch = require('react-router-dom').Switch;\n\nclass Routers extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {};\n    this.mixin = {\n      screenWidth: document.documentElement.clientWidth,\n      screenHeight: document.documentElement.clientHeight\n    }\n  }\n\n  render(){\n    return (\n      <Router>\n        <Route render={({ location, match }) => {\n          return (\n            <React.Fragment>\n              <NavBar mode=\"dark\" style={{position:'absolute',top:0,width:'100%',zIndex:-1}}></NavBar>\n              <AnimatedRouter location={location} {...this.mixin}>\n                <Switch location={location}>\n                  <Route key=\"/\" exact path=\"/\" render={() => (<Redirect to=\"/login\" />)} />\n                  {routes.map((route, i) => (\n                    <Route\n                    key={i}\n                    path={route.path}\n                    render={props => {\n                      if(route.preload && !route.load && location.pathname === route.path){\n                        route.load = true;\n                        setTimeout(()=>{\n                          route.preload.forEach((item) => {\n                            item();\n                          });\n                        }, window.Config.preload)\n                      }\n\n                      return (\n                      <React.Suspense fallback={<i></i>}>\n                        <route.component {...props} {...this.mixin} routes={route.routes} />\n                      </React.Suspense>\n                      )}}\n                    />\n                  ))}\n                </Switch>\n              </AnimatedRouter>\n            </React.Fragment>\n          )}}>\n        </Route>\n      </Router>\n    )\n  }\n}\n\nexport default Routers;\n","import './config';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './css/global.css';\nimport { createStore } from 'redux';\nimport reducers from './redux';\nimport Routers from './routers';\nlet fastclick = require('fastclick')\nfastclick.attach(document.body)\nlet store = createStore(reducers);\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n\n    }\n  }\n\n  render() {\n    return (\n      <Provider store={store}>\n        <Routers {...this.props}/>\n      </Provider>\n    )\n  }\n}\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}