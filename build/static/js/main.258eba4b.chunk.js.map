{"version":3,"sources":["pages/login/Login.js","pages/home/Home.js","utils/security.js","utils/cache.js","utils/http.js","utils/index.js","redux/app.js","redux/index.js","components/common/Lazyload.js","routers/index.js","index.js","config.js"],"names":["utils","window","Login","props","_this","Object","_Users_farben_project_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_farben_project_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_farben_project_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","forward","model","username","password","base64Img","_this2","http","post","then","response","setState","data","body","assign","captchaToken","_this3","history","push","getCaptcha","error","alert","_this4","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","style","background","height","onClick","React","Component","Home","CryptoJS","require","encryptByAES","message","key","keyHex","enc","Utf8","parse","AES","encrypt","mode","ECB","padding","pad","Pkcs7","ciphertext","toString","Base64","replace","decryptByAES","decrypt","decryptKey","encryptedKey","split","reverse","join","str","i","j","length","cache","set","value","seconds","arguments","undefined","JSON","stringify","expired","Date","getTime","localStorage","setItem","Config","get","getItem","substr","e","console","log","removeItem","clear","axios","instance","create","method","timeout","withCredentials","headers","Content-Type","transformRequest","ret","it","encodeURIComponent","interceptors","request","use","config","user","head","url","debug","userId","token","timestamp","server","Promise","reject","resp","status","initialState","types","reducers","_actions","defineProperty","type","combineReducers","app","action","loadingWrapper","react_default","loadingComponent","loader","loading","Loadable","Router","HashRouter","Route","Redirect","Switch","mapStateToProps","objectSpread","mapDispatchToProps","dispatch","header","hasHeader","ui","login","wrapper","promise","component","Lazyload","lazyloadWrapper","connect","WrapperLogin","resolve","__webpack_require__","bind","WrapperHome","Routers","classCallCheck","possibleConstructorReturn","getPrototypeOf","mixin","screenWidth","screen","width","screenHeight","back","goBack","go","pathname","historyArray","render","_ref","location","TransitionGroup","className","childFactory","child","cloneElement","classNames","CSSTransition","onEntered","setTimeout","pop","path","exact","from","to","store","createStore","App","es","routers","ReactDOM","src_App","document","getElementById","appVersion","nativeVersion","href","indexOf","appDownloadUrl","chcpUrl","random","preload"],"mappings":"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","file":"static/js/main.258eba4b.chunk.js","sourcesContent":["import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\nconst utils = window.utils;\n\nclass Login extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      forward: false,\n      model: {\n        username: 'admin',\n        password: 'admin'\n      },\n      base64Img: ''\n    }\n  }\n\n  componentWillMount(){\n    // console.log(this.props)\n  }\n\n  getCaptcha(){\n    utils.http.post('/manage/user/captcha').then(response => {\n      this.setState({\n        base64Img: 'data:image/png;base64, '+response.data.body.data.base64Img,\n        model: Object.assign({}, this.state.model, {\n          captchaToken: response.data.body.data.captchaToken\n        })\n      })\n    })\n  }\n\n  login(){\n    utils.http.post('/manage/user/login', this.model).then(response => {\n      if(response.data.body.data) {\n        this.props.history.push('/page/home');\n      }else{\n        this.getCaptcha();\n      }\n    }, error => {\n      alert('error');\n      this.props.history.push('/page/home');\n    })\n  }\n\n  toggleForward(){\n    this.setState({\n      forward: !this.state.forward\n    });\n  }\n\n  render() {\n    return (\n      <div style={{background:'red', height: '300px'}}>\n        <div onClick={() => {this.props.history.push('./home')}}>to home 1234567890</div>\n      </div>\n    );\n  }\n}\n\nexport default Login","import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\nclass Home extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      forward: true,\n      username: 'admin',\n      password: 'admin'\n    }\n  }\n\n  register(){\n    this.props.history.push('/register');\n  }\n\n  forgetPassword(){\n    this.props.history.push('/forgetpassword')\n  }\n\n  login(){\n    \n  }\n  render() {\n    return (\n      <div style={{background:'green', height: '300px'}}>\n        <div onClick={() => {this.props.history.push('./login')}}>to login 1234567890</div>\n      </div>\n    );\n  }\n}\n\nexport default Home","var CryptoJS = require(\"crypto-js\");\n\nconst encryptByAES = (message, key) => {\n    var keyHex = CryptoJS.enc.Utf8.parse(key);\n    var encrypted = CryptoJS.AES.encrypt(message, keyHex, {\n        mode: CryptoJS.mode.ECB,\n        padding: CryptoJS.pad.Pkcs7\n    });\n    return encrypted.ciphertext.toString(CryptoJS.enc.Base64).replace(/[\\r\\n]/g, '');\n}\n\nconst decryptByAES = (ciphertext, key) => {\n    var keyHex = CryptoJS.enc.Utf8.parse(key);\n    var decrypted = CryptoJS.AES.decrypt({\n        ciphertext: CryptoJS.enc.Base64.parse(ciphertext.replace(/[\\r\\n]/g, ''))\n    }, keyHex, {\n        mode: CryptoJS.mode.ECB,\n        padding: CryptoJS.pad.Pkcs7\n    });\n    return decrypted.toString(CryptoJS.enc.Utf8);\n}\n\nconst encryptKey = key => {\n  let array = key.split('')\n  let letters = 'abcdefghijklmnopqrstuvwxyz0123456789'\n  let encryptedKey = ''\n  for(let i=0;i<array.length;i++){\n    encryptedKey += array[i]\n    for(let j=0;j<i%2+1;j++){\n      encryptedKey += letters.substr(parseInt(Math.random()*letters.length),1)\n    }\n  }\n  return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(encryptedKey.split('').reverse().join('')))\n}\n\nconst decryptKey = encryptedKey => {\n  encryptedKey = CryptoJS.enc.Base64.parse(encryptedKey).toString(CryptoJS.enc.Utf8).split('').reverse().join('')\n  let str = ''\n  for(let i=0,j=0;i<encryptedKey.length;i++){\n    str += encryptedKey[i]\n    i += (j++ % 2 + 1)\n  }\n  return str\n}\n\nexport {encryptByAES,decryptByAES,encryptKey,decryptKey}","import {encryptByAES,decryptByAES,decryptKey} from './security'\r\n\r\nconst cache = {\r\n\tset(key, value, seconds = 60*60*24) {\r\n\t\tif(typeof value != 'string') {\r\n\t\t\tvalue = JSON.stringify(value)\r\n\t\t}\r\n\t\tvalue = JSON.stringify({value:value, expired: new Date().getTime()+seconds*1000})\r\n\t\tlocalStorage.setItem(key, encryptByAES(value, decryptKey(window.Config.key)))\r\n\t},\r\n\tget(key) {\r\n\t\tlet value = localStorage.getItem(key)\r\n\r\n\t\tif(value){\r\n\t\t\tvalue = JSON.parse(decryptByAES(value, decryptKey(window.Config.key)))\r\n\r\n\t\t\tif(value.expired > new Date().getTime()){\r\n\t\t\t\tvalue = value.value\r\n\t\t\t\tif (value.substr(0, 1) === '{' || value.substr(0, 1) === '[') {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tvalue = JSON.parse(value);\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.log('error in get cache key:' + key + ', value:' + value)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tlocalStorage.removeItem(key)\r\n\t\t\t\tvalue = null\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value\r\n\t},\r\n\tremoveItem(key) {\r\n\t\tlocalStorage.removeItem(key)\r\n\t},\r\n\tclear() {\r\n\t\tlocalStorage.clear()\r\n\t}\r\n}\r\n\r\nexport default cache","import axios from 'axios';\r\nimport cache from './cache';\r\nimport {encryptByAES,decryptByAES,decryptKey} from './security';\r\nwindow.axios = axios;\r\n\r\nlet instance = axios.create({\r\n  method: 'post',\r\n  timeout: 60000,\r\n  withCredentials: true,\r\n  headers: {\r\n    post: {\r\n      'Content-Type': 'application/x-www-form-urlencoded'\r\n    }\r\n  },\r\n  transformRequest: [function(data) {\r\n    let ret = ''\r\n    for (let it in data) {\r\n      ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\r\n    }\r\n    return ret\r\n  }]\r\n})\r\n\r\ninstance.interceptors.request.use(function(config) {\r\n  let user = cache.get('user')\r\n  let data = {\r\n    head: {\r\n      url: config.url,\r\n      debug: true,\r\n      userId: user ? user.userId : null,\r\n      token: cache.get('token'),\r\n      timestamp:new Date().getTime()\r\n    },\r\n    body: {\r\n      data: config.data\r\n    }\r\n  }\r\n  console.log('\\n【request:'+config.url+'】', data, '\\n\\n')\r\n  config.url = window.Config.server + config.url\r\n\r\n  config.data = {\r\n    request: encryptByAES(JSON.stringify(data), decryptKey(window.Config.key))\r\n  }\r\n  return config\r\n}, function(error) {\r\n  console.log(error)\r\n  return Promise.reject(error)\r\n})\r\n\r\ninstance.interceptors.response.use(function(response) {\r\n  let resp = decryptByAES(response.data.response, decryptKey(window.Config.key))\r\n  response.data = JSON.parse(resp)\r\n  console.log('\\n【response:'+response.config.url+'】',response, '\\n\\n')\r\n  if(response.data.head.status !== 200){\r\n    // store.commit('TOGGLE_POPUP', {visible: true, text: response.data.head.msg, duration: 3000})\r\n  }\r\n  let token = response.data.head.token\r\n  cache.set('token', token || cache.get('token'))\r\n  return response\r\n}, function(error) {\r\n  console.log(error)\r\n  return Promise.reject(error)\r\n})\r\n\r\nexport default instance","import cache from './cache'\nimport http from './http'\n\nexport default { cache, http }","import utils from '../utils'\n\nconst initialState = {\n  user: utils.cache.get('user') || {}\n}\n\nexport const types = {\n  LOGIN:'APP/LOGIN',\n  LOGOUT:'APP/LOGOUT'\n}\n\nexport const actions = {\n  [types.LOGIN](){\n    return {type:types.LOGIN}\n  },\n  [types.LOGOUT](){\n    return {type:types.LOGOUT}\n  }\n}\n\nexport default (state = initialState, action = {}) => {\n  switch (action.type) {\n    case types.LOGIN :\n      utils.cache.set('user', action.app.user)\n      return {user:action.app.user}\n    case types.LOGOUT:\n      utils.cache.set('user', {})\n      return {user:{}}\n    default: return state\n  }\n}\n","import { combineReducers } from 'redux';\nimport app from './app'\n\nconst reducers = combineReducers({\n  app: app,\n})\n\nexport default reducers\n","import React from 'react';\nimport Loadable from 'react-loadable';\n\nconst loadingWrapper = ()=>{\n  return (\n    <div>loading</div>\n  )\n};\n\nconst loadingComponent = (loader, loading = loadingWrapper) => Loadable({\n  loader,\n  loading\n});\n\nexport default loadingComponent;","import React from 'react';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport Lazyload from '../components/common/Lazyload'\nimport { connect } from 'react-redux';\nimport Login from '../pages/login/Login';\nimport Home from '../pages/home/Home';\n\nconst Router = require('react-router-dom').HashRouter;\nconst Route = require('react-router-dom').Route;\nconst Redirect = require('react-router-dom').Redirect;\nconst Switch = require('react-router-dom').Switch;\n\nconst mapStateToProps = state => {\n  return {...state}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    header: hasHeader => {\n      dispatch({type:'UI/HERADER', ui: {header:hasHeader}})\n    },\n    login: user => {\n      dispatch({type: 'APP/LOGIN', app: {user:user}})\n    }\n  }\n}\n\nconst reduxWrapper = component => connect(mapStateToProps, mapDispatchToProps)(component);\nconst lazyloadWrapper = promise => Lazyload(()=>promise);\nconst wrapper = promise => reduxWrapper(lazyloadWrapper(promise))\n\nconst WrapperLogin = wrapper(import('../pages/login/Login'));\nconst WrapperHome = wrapper(import('../pages/home/Home'));\n\n// const WrapperLogin = Animation(Login);\n// const WrapperHome = Animation(Home);\n\nclass Routers extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {};\n    this.mixin = {\n      screenWidth: window.screen.width,\n      screenHeight: window.screen.height,\n      back(){\n        props.history.goBack();\n      },\n      go(url, state){\n        props.history.push({pathname: url,state: state});\n      }\n    }\n  }\n\n  componentDidMount() {\n    \n  }\n\n  render(){\n    const historyArray = [];\n\n    return (\n      <Router>\n        <Route render={({ location, history }) => {\n          let forward = true;\n          if(historyArray.length === 0){\n            historyArray.push(location.pathname);\n          }\n          if(historyArray.length > 1 && location.pathname === historyArray[historyArray.length-2]){\n            forward = false;\n          }else{\n            forward = true;\n          }\n\n          return (\n          <TransitionGroup className={'transition-wrapper'} childFactory={child => React.cloneElement(child,{classNames:  'absolute ' + (forward?'forward':'back')})}>\n            <CSSTransition key={location.pathname} timeout={500} onEntered={()=>{\n              setTimeout(()=>{\n                if(forward){\n                  historyArray.push(location.pathname)\n                }else{\n                  historyArray.pop()\n                }\n              })\n            }}>\n              <Switch location={location}>\n                <Route path=\"/\" exact>\n                  <Redirect from=\"/\" to=\"/login\" />\n                </Route>\n                <Route path=\"/home\" component={WrapperHome}/>\n                <Route path=\"/login\" component={WrapperLogin}/>\n              </Switch>\n            </CSSTransition>\n          </TransitionGroup>\n        )}}>\n        </Route>\n      </Router>\n    )\n  }\n}\n\nexport default Routers;\n","import './config';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/global.css';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducers from './redux';\nimport Routers from './routers';\n\nlet store = createStore(reducers);\n\n// const mapStateToProps = (state) => {\n//   return {...state}\n// }\n\n// const mapDispatchToProps = (dispatch) => {\n//   return {\n//     header: hasHeader => {\n//       dispatch({type:'UI/HERADER', ui: {header:hasHeader}})\n//     },\n//     login: user => {\n//       dispatch({type: 'APP/LOGIN', app: {user:user}})\n//     }\n//   }\n// }\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n\n    }\n  }\n\n  render() {\n    return (\n      <Provider store={store}>\n        <Routers {...this.props}/>\n      </Provider>\n    )\n  }\n}\n\nReactDOM.render(<App/>, document.getElementById('root'));\n","window.Config = {\n  appVersion:'1.0.23',\n  nativeVersion:'1.0',\n  server: 'http'+(window.location.href.indexOf('https')===0?'s':'')+'://47.100.119.102/api',\n  appDownloadUrl:'http://47.100.119.102/vue-app',\n  chcpUrl:'http://47.100.119.102/vue-app/chcp.json',\n  key:'dzg5czJyejd5NjFkN3g3MjNjc2QwamN3OXUxODFjb280YWE4djhvYmV1NW9lemUxMzFjdGFiYTZ0OXo5dXhkMWNrYzRvZHZ3NjcyMzZkdWU=',\n  random:new Date().getTime(),\n  preload: 1000\n}"],"sourceRoot":""}