(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{385:function(e,t,a){"use strict";a.r(t);a(246),a(247);var n=a(249),r=a.n(n),o=(a(250),a(252)),i=a.n(o),c=(a(224),a(254)),s=a.n(c),p=(a(256),a(258)),l=a.n(p),d=(a(101),a(69)),u=a.n(d),m=a(20),h=a(21),g=a(28),f=a(22),b=a(27),x=a(266),k=a(0),v=a.n(k),w=a(89),y=a(381),j=a(358);function E(){var e=Object(x.a)(["\n  position:absolute;\n  width:100%;\n  bottom:5px;\n  color:gray;\n  font-size:12px;\n  text-align:center;\n"]);return E=function(){return e},e}function O(){var e=Object(x.a)(["\n  position:absolute;\n  top:4px;\n  right:4px;\n  padding:1px;\n  background: linear-gradient(0deg, transparent 6px, #ccc 6px) repeat-y, linear-gradient(0deg, transparent 50%, #ccc 0) repeat-y, linear-gradient(90deg, transparent 50%, #ccc 0) repeat-x, linear-gradient(90deg, transparent 50%, #ccc 0) repeat-x;\n  background-size: 1px 12px, 1px 12px, 12px 1px, 12px 1px;\n  background-position: 0 0, 100% 0, 0 0, 0 100%;\n  animation: "," 1s infinite linear;\n"]);return O=function(){return e},e}function C(){var e=Object(x.a)(["\n  from {}\n  to {\n    background-position: 0 -12px, 100% 12px, 12px 0, -12px 100%;\n  }\n"]);return C=function(){return e},e}var V=window.utils,F=Object(j.b)(C()),I=j.a.div(O(),F),N=j.a.div(E()),T=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).state={forward:!1,model:{username:"admin",password:"admin"},base64Img:"",appVersion:window.Config.appVersion},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"getCaptcha",value:function(){var e=this;V.http.post("/manage/user/captcha").then(function(t){e.setState({base64Img:"data:image/png;base64, "+t.data.body.data.base64Img,model:Object.assign({},e.state.model,{captchaToken:t.data.body.data.captchaToken})})})}},{key:"login",value:function(){var e=this;this.props.form.validateFields(function(t,a){if(t)console.log("error",t,a);else{var n=e.props.form.getFieldsValue().model;n.captchaToken=e.state.model.captchaToken,V.http.post("/manage/user/login",n).then(function(t){t.data.body.data?e.props.history.push("./home"):e.getCaptcha()},function(t){alert("error"),e.props.history.push("./home")})}})}},{key:"componentDidMount",value:function(){console.log("login"),this.getCaptcha(),this.props.form.setFieldsValue({model:this.state.model})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldProps;return v.a.createElement("div",null,v.a.createElement(u.a,{mode:"dark",leftContent:v.a.createElement("i",{onClick:function(){return e.props.history.push("./setting")},className:"fa fa-fw fa-home"}),rightContent:v.a.createElement("i",{onClick:function(){return e.props.history.push("./home")},className:"fa fa-fw fa-refresh"})},"react-app"),v.a.createElement("div",{className:"pd-md center",style:{backgroundColor:"white"}},v.a.createElement("img",{src:"logo.jpg",style:{width:"50%"}})),v.a.createElement(s.a,null,v.a.createElement(l.a,Object.assign({},t("model.username",{rules:[{required:!0,message:"\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a\uff01"}]}),{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"}),"\u8d26\u3000\u53f7"),v.a.createElement(l.a,Object.assign({},t("model.password"),{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),"\u5bc6\u3000\u7801"),v.a.createElement(l.a,Object.assign({},t("model.captcha"),{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",extra:v.a.createElement(I,null,v.a.createElement("img",{onClick:function(){return e.getCaptcha()},src:this.state.base64Img,style:{width:"100px",height:"36px"}}))}),"\u9a8c\u8bc1\u7801")),v.a.createElement("div",{className:"pd-lg"},v.a.createElement(i.a,{onClick:function(){return e.login()},type:"primary"},"\u767b\u3000\u5f55"),v.a.createElement(r.a,null)),v.a.createElement(N,null,"\u7248\u672c\u53f7\uff1a",this.state.appVersion))}}]),t}(v.a.Component);t.default=Object(y.a)()(Object(w.b)()(T))}}]);
//# sourceMappingURL=login.38c4c4aa.chunk.js.map