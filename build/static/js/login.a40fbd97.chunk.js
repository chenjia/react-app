(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{425:function(e,t,a){"use strict";a.r(t);var n=a(264),r=(a(265),a(267)),o=a.n(r),i=(a(268),a(217)),c=a.n(i),s=(a(212),a(220)),p=a.n(s),l=(a(271),a(273)),u=a.n(l),d=(a(100),a(66)),m=a.n(d),h=a(21),g=a(22),f=a(25),b=a(23),x=a(26),y=a(280),k=a(0),v=a.n(k),w=a(88),E=a(417),j=a(372);function O(){var e=Object(y.a)(["\n  position:absolute;\n  width:100%;\n  bottom:5px;\n  color:gray;\n  font-size:12px;\n  text-align:center;\n"]);return O=function(){return e},e}function C(){var e=Object(y.a)(["\n  position:absolute;\n  top:4px;\n  right:4px;\n  padding:1px;\n  background: linear-gradient(0deg, transparent 6px, #ccc 6px) repeat-y, linear-gradient(0deg, transparent 50%, #ccc 0) repeat-y, linear-gradient(90deg, transparent 50%, #ccc 0) repeat-x, linear-gradient(90deg, transparent 50%, #ccc 0) repeat-x;\n  background-size: 1px 12px, 1px 12px, 12px 1px, 12px 1px;\n  background-position: 0 0, 100% 0, 0 0, 0 100%;\n  animation: "," 1s infinite linear;\n"]);return C=function(){return e},e}function I(){var e=Object(y.a)(["\n  from {}\n  to {\n    background-position: 0 -12px, 100% 12px, 12px 0, -12px 100%;\n  }\n"]);return I=function(){return e},e}var N=window.utils,V=Object(j.b)(I()),F=j.a.div(C(),V),T=j.a.div(O()),P=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={forward:!1,model:{username:"admin",password:"admin"},base64Img:"",appVersion:window.Config.appVersion},a}return Object(x.a)(t,e),Object(g.a)(t,[{key:"getCaptcha",value:function(){var e=this;N.http.post("/manage/user/captcha").then(function(t){e.setState({base64Img:"data:image/png;base64, "+t.data.body.data.base64Img,model:Object.assign({},e.state.model,{captchaToken:t.data.body.data.captchaToken})})})}},{key:"login",value:function(){var e=this;this.props.form.validateFields(function(t,a){if(t)console.log("error",t,a);else{var n=e.props.form.getFieldsValue().model;n.captchaToken=e.state.model.captchaToken,N.http.post("/manage/user/login",n).then(function(t){t.data.body.data?e.props.history.push("./home"):e.getCaptcha()},function(t){alert("error"),e.props.history.push("./home")})}})}},{key:"componentDidMount",value:function(){console.log("login"),this.getCaptcha(),this.props.form.setFieldsValue({model:this.state.model})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldProps;return v.a.createElement("div",null,v.a.createElement(m.a,{mode:"dark",leftContent:v.a.createElement("i",{onClick:function(){return e.props.history.push("./setting")},className:"fa fa-fw fa-home"}),rightContent:v.a.createElement("i",{onClick:function(){return e.props.history.push("./home")},className:"fa fa-fw fa-refresh"})},"react-app"),v.a.createElement("div",{className:"pd-md center",style:{backgroundColor:"white"}},v.a.createElement("img",{src:"logo.jpg",alt:"",style:{width:"50%"}})),v.a.createElement(p.a,null,v.a.createElement(u.a,Object.assign({},t("model.username",{rules:[{required:!0,message:"\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a\uff01"}]}),{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"}),"\u8d26\u3000\u53f7"),v.a.createElement(u.a,Object.assign({},t("model.password"),{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}),"\u5bc6\u3000\u7801"),v.a.createElement(u.a,Object.assign({},t("model.captcha"),{clear:!0,placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",extra:v.a.createElement(F,null,v.a.createElement("img",{onClick:function(){return e.getCaptcha()},alt:"",src:this.state.base64Img,style:{width:"100px",height:"36px"}}))}),"\u9a8c\u8bc1\u7801")),v.a.createElement("div",{className:"pd-lg"},v.a.createElement(c.a,{onClick:function(){return e.login()},type:"primary"},"\u767b\u3000\u5f55"),v.a.createElement(o.a,null)),v.a.createElement(T,null,"\u7248\u672c\u53f7\uff1a",this.state.appVersion))}}]),t}(v.a.Component);t.default=Object(E.a)()(Object(w.b)(function(e){return Object(n.a)({},e)},function(e){return{header:function(t){e({type:"UI/HERADER",ui:{header:t}})},login:function(t){e({type:"APP/LOGIN",app:{user:t}})}}})(P))}}]);
//# sourceMappingURL=login.a40fbd97.chunk.js.map