{"version":3,"sources":["pages/list/List.js"],"names":["Item","antd_mobile_lib_list__WEBPACK_IMPORTED_MODULE_16___default","a","Brief","ListPage","props","_this","Object","_Users_farben_project_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_10__","this","_Users_farben_project_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_12__","_Users_farben_project_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_13__","call","state","modal","down","refreshing","height","screenHeight","data","count","array","length","i","item","name","random","Math","push","setState","index","splice","flag","add","_this2","react__WEBPACK_IMPORTED_MODULE_17___default","createElement","antd_mobile_lib_nav_bar__WEBPACK_IMPORTED_MODULE_9___default","mode","leftContent","onClick","history","className","rightContent","toggleSearch","antd_mobile_lib_modal__WEBPACK_IMPORTED_MODULE_5___default","popup","visible","onClose","animationType","renderHeader","antd_mobile_lib_search_bar__WEBPACK_IMPORTED_MODULE_7___default","placeholder","maxLength","antd_mobile_lib_pull_to_refresh__WEBPACK_IMPORTED_MODULE_1___default","damping","ref","el","ptr","style","overflow","indicator","deactivate","direction","onRefresh","setTimeout","map","antd_mobile_lib_swipe_action__WEBPACK_IMPORTED_MODULE_3___default","key","backgroundColor","autoClose","right","text","onPress","remove","color","align","thumb","React","Component"],"mappings":"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","file":"static/js/list.5abb68b1.chunk.js","sourcesContent":["import React from 'react';\nimport { List, Modal, NavBar, PullToRefresh, SearchBar, SwipeAction } from 'antd-mobile';\n\nconst Item = List.Item;\nconst Brief = Item.Brief;\n\nclass ListPage extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: false,\n      down: true,\n      refreshing: false,\n      height: this.props.screenHeight-44,\n      data: []\n    }\n  }\n\n  add(count) {\n    let array = [];\n    const length = array.length;\n    for (let i = length; i < length+count; i++) {\n      const item = {\n        name:'标题'+i,\n        random: Math.random()\n      }\n      array.push(item);\n    }\n\n    this.setState({\n      data: array\n    });\n  }\n  \n  remove(index) {\n    this.state.data.splice(index, 1)\n    this.setState({\n      data: this.state.data\n    });\n  }\n\n  toggleSearch(flag) {\n    this.setState({\n      modal: flag\n    });\n  }\n\n  componentDidMount(){\n    this.add(10);\n  }\n\n  render() {\n    return (\n      <div>\n        <NavBar\n          mode=\"dark\"\n          leftContent={(<i onClick={()=>this.props.history.push('./home')} className={'fa fa-fw fa-chevron-left'} />)}\n          rightContent={(<i onClick={()=>this.toggleSearch(true)} className={'fa fa-fw fa-search'} />)}\n        >列表</NavBar>\n\n        <Modal\n          popup\n          visible={this.state.modal}\n          onClose={() => this.toggleSearch(false)}\n          animationType=\"slide-down\"\n        >\n          <List renderHeader={() => <div>搜索条件</div>} className=\"popup-list\">\n            <SearchBar placeholder=\"Search\" maxLength={8} />\n          </List>\n        </Modal>\n\n        <PullToRefresh\n          damping={60}\n          ref={el => this.ptr = el}\n          style={{\n            height: this.state.height,\n            overflow: 'auto',\n          }}\n          indicator={this.state.down ? {} : { deactivate: '上拉可以刷新' }}\n          direction={this.state.down ? 'down' : 'up'}\n          refreshing={this.state.refreshing}\n          onRefresh={() => {\n            this.setState({ refreshing: true });\n            setTimeout(() => {\n              this.add(10);\n              this.setState({\n                refreshing: false\n              });\n            }, 1000);\n          }}\n        >\n          <List className=\"list\">\n            {\n              this.state.data.map((item, i) => (\n              <SwipeAction\n                key={i}\n                style={{ backgroundColor: 'gray' }}\n                autoClose\n                right={[\n                  {\n                    text: (<span><i className=\"fa fa-fw fa-remove\"></i> 删除</span>),\n                    onPress: () => this.remove(i),\n                    style: { backgroundColor: '#F4333C', color: 'white' },\n                  },\n                ]}\n              >\n              <Item align=\"top\" thumb=\"static/img/head_bg.jpg\" >\n                {item.name} <Brief>{item.random}</Brief>\n              </Item>\n              </SwipeAction>\n              ))\n            }\n          </List>\n        </PullToRefresh>\n      </div>\n    );\n  }\n}\n\nexport default ListPage;"],"sourceRoot":""}