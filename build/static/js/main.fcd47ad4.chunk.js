(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{111:function(e,t,n){"use strict";n.r(t);var r=n(11),a=n(12),o=n(16),c=n(13),i=n(17),u=(n(55),n(0)),s=n.n(u),l=n(18),p=n.n(l),d=(n(60),n(19)),h=n(30),m=n(22),f=n(65),g=function(e,t){var n=f.enc.Utf8.parse(t);return f.AES.encrypt(e,n,{mode:f.mode.ECB,padding:f.pad.Pkcs7}).ciphertext.toString(f.enc.Base64).replace(/[\r\n]/g,"")},w=function(e,t){var n=f.enc.Utf8.parse(t);return f.AES.decrypt({ciphertext:f.enc.Base64.parse(e.replace(/[\r\n]/g,""))},n,{mode:f.mode.ECB,padding:f.pad.Pkcs7}).toString(f.enc.Utf8)},v=function(e){e=f.enc.Base64.parse(e).toString(f.enc.Utf8).split("").reverse().join("");for(var t="",n=0,r=0;n<e.length;n++)t+=e[n],n+=r++%2+1;return t},b={set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400;"string"!=typeof t&&(t=JSON.stringify(t)),t=JSON.stringify({value:t,expired:(new Date).getTime()+1e3*n}),localStorage.setItem(e,g(t,v(window.Config.key)))},get:function(e){var t=localStorage.getItem(e);if(t)if((t=JSON.parse(w(t,v(window.Config.key)))).expired>(new Date).getTime()){if("{"===(t=t.value).substr(0,1)||"["===t.substr(0,1))try{t=JSON.parse(t)}catch(n){console.log("error in get cache key:"+e+", value:"+t)}}else localStorage.removeItem(e),t=null;return t},removeItem:function(e){localStorage.removeItem(e)},clear:function(){localStorage.clear()}},O=n(32),j=n.n(O);window.axios=j.a;var y=j.a.create({method:"post",timeout:6e4,withCredentials:!0,headers:{post:{"Content-Type":"application/x-www-form-urlencoded"}},transformRequest:[function(e){var t="";for(var n in e)t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&";return t}]});y.interceptors.request.use(function(e){var t=b.get("user"),n={head:{url:e.url,debug:!0,userId:t?t.userId:null,token:b.get("token"),timestamp:(new Date).getTime()},body:{data:e.data}};return console.log("\n\u3010request:"+e.url+"\u3011",n,"\n\n"),e.url=window.Config.server+e.url,e.data={request:g(JSON.stringify(n),v(window.Config.key))},e},function(e){return console.log(e),Promise.reject(e)}),y.interceptors.response.use(function(e){var t=w(e.data.response,v(window.Config.key));e.data=JSON.parse(t),console.log("\n\u3010response:"+e.config.url+"\u3011",e,"\n\n"),e.data.head.status;var n=e.data.head.token;return b.set("token",n||b.get("token")),e},function(e){return console.log(e),Promise.reject(e)});var k,E={cache:b,http:y},S={user:E.cache.get("user")||{}},C="APP/LOGIN",N="APP/LOGOUT",x=(k={},Object(m.a)(k,C,function(){return{type:C}}),Object(m.a)(k,N,function(){return{type:N}}),Object(d.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case C:return E.cache.set("user",t.app.user),{user:t.app.user};case N:return E.cache.set("user",{}),{user:{}};default:return e}}})),U=(n(49),n(36)),I=n(114),J=n(113),z=[],P=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=!0;return 0===z.length&&z.push(this.props.location.pathname),(e=!(z.length>1&&this.props.location.pathname===z[z.length-2]))?z.push(this.props.location.pathname):z.pop(),s.a.createElement(I.a,{className:"transition-wrapper",childFactory:function(t){return s.a.cloneElement(t,{classNames:"absolute "+(e?"forward":"back")})}},s.a.createElement(J.a,{key:this.props.location.pathname,timeout:500},s.a.createElement("div",null,this.props.children)))}}]),t}(s.a.Component),T=[{path:"/login",component:s.a.lazy(function(){return n.e(1).then(n.bind(null,115))}),preload:function(){return n.e(0).then(n.bind(null,116))}}],B=[{path:"/home",component:s.a.lazy(function(){return n.e(0).then(n.bind(null,116))}),preload:function(){return n.e(4).then(n.bind(null,117))}},{path:"/setting",component:s.a.lazy(function(){return n.e(4).then(n.bind(null,117))})}],D=[].concat(Object(U.a)(T),Object(U.a)(B)),R=n(24).HashRouter,F=n(24).Route,M=n(24).Redirect,W=n(24).Switch,q=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={},n.mixin={screenWidth:window.screen.width,screenHeight:window.screen.height,back:function(){e.history.goBack()},go:function(t,n){e.history.push({pathname:t,state:n})}},n}return Object(i.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement(R,null,s.a.createElement(F,{render:function(e){var t=e.location;e.match;return s.a.createElement(P,{location:t},s.a.createElement(W,{location:t},s.a.createElement(F,{exact:!0,path:"/",render:function(){return s.a.createElement(M,{to:"/login"})}}),D.map(function(e,n){return s.a.createElement(F,{key:n,path:e.path,render:function(n){return e.preload&&!e.load&&t.pathname===e.path&&(e.load=!0,setTimeout(function(){e.preload()},window.Config.preload)),s.a.createElement(s.a.Suspense,{fallback:s.a.createElement("div",null,"Loading...")},s.a.createElement(e.component,Object.assign({},n,{routes:e.routes})))}})})))}}))}}]),t}(s.a.Component),A=Object(d.c)(x),Y=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={},n}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return s.a.createElement(h.a,{store:A},s.a.createElement(q,this.props))}}]),t}(s.a.Component);p.a.render(s.a.createElement(Y,null),document.getElementById("root"))},54:function(e,t,n){e.exports=n(111)},55:function(e,t){window.Config={appVersion:"1.0.23",nativeVersion:"1.0",server:"http"+(0===window.location.href.indexOf("https")?"s":"")+"://47.100.119.102/api",appDownloadUrl:"http://47.100.119.102/vue-app",chcpUrl:"http://47.100.119.102/vue-app/chcp.json",key:"dzg5czJyejd5NjFkN3g3MjNjc2QwamN3OXUxODFjb280YWE4djhvYmV1NW9lemUxMzFjdGFiYTZ0OXo5dXhkMWNrYzRvZHZ3NjcyMzZkdWU=",random:(new Date).getTime(),preload:1e3}},60:function(e,t,n){}},[[54,3,5]]]);
//# sourceMappingURL=main.fcd47ad4.chunk.js.map